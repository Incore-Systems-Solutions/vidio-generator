import{c as l,j as e,B as o}from"./createLucideIcon.BWUjMJ0t.js";import{r as j}from"./index.RH_Wq4ov.js";import{C as n,a as m,b as h,c}from"./card.BkPeL54w.js";import{B as U}from"./badge.DE2H0mDD.js";import{v as x}from"./api.BgGK7ZEH.js";import{A as P}from"./arrow-left.BkpbGPXl.js";import{C as f}from"./circle-check-big.D_AmXthT.js";import{V as R}from"./video.CTT0PdyH.js";import{S}from"./settings.KLqNsyPO.js";import{D as p}from"./download.BNLMLlBi.js";import{P as D}from"./play.CmT1PXqT.js";import{M as A}from"./message-circle.CeNnqhzY.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],B=l("arrow-right",M);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],H=l("camera",F);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],E=l("maximize-2",I);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],K=l("music",L);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Y=l("share-2",O);function ie({videoUrl:r,taskId:t,onBack:u}){const[d,y]=j.useState("1080p"),[Q,k]=j.useState(null),w=[{id:"720p",label:"720p HD",icon:e.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full"}),pro:!1},{id:"1080p",label:"1080p Full HD",icon:e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full"}),pro:!1},{id:"4k",label:"4K Ultra HD",icon:e.jsx("div",{className:"w-4 h-4 bg-gray-400 rounded-full"}),pro:!1}],v=[{id:"tiktok",name:"TikTok",icon:e.jsx(K,{className:"w-5 h-5"}),description:"Format 9:16, optimal untuk TikTok",color:"bg-black text-white"},{id:"instagram",name:"Instagram",icon:e.jsx(H,{className:"w-5 h-5"}),description:"Format square dan story",color:"bg-gradient-to-r from-purple-600 to-pink-600 text-white"},{id:"youtube",name:"YouTube",icon:e.jsx(D,{className:"w-5 h-5"}),description:"Format 16:9 kualitas",color:"bg-red-600 text-white"},{id:"whatsapp",name:"WhatsApp",icon:e.jsx(A,{className:"w-5 h-5"}),description:"Kirimkan file di aplikasi",color:"bg-green-600 text-white"}],N=()=>w.find(s=>s.id===d),C=async()=>{try{const a=await(await fetch(r)).blob(),g=window.URL.createObjectURL(a),i=document.createElement("a");i.href=g,i.download=`video-${t}.mp4`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(g)}catch(s){console.error("Download failed:",s);const a=document.createElement("a");a.href=r,a.download=`video-${t}.mp4`,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},b=async s=>{k(s);try{switch(s){case"tiktok":await _();break;case"instagram":await z();break;case"youtube":await $();break;case"whatsapp":await T();break;default:console.log(`Platform ${s} not implemented`)}}catch(a){console.error(`Error sharing to ${s}:`,a)}},_=async()=>{try{const s=await x.convertVideoForPlatform(r,"tiktok",t);if(s.status){const a=`https://www.tiktok.com/upload?video_url=${encodeURIComponent(s.data.convertedUrl)}`;window.open(a,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}}catch(s){console.error("TikTok conversion failed, using original video:",s);const a=`https://www.tiktok.com/upload?video_url=${encodeURIComponent(r)}`;window.open(a,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}},z=async()=>{try{const s=await x.convertVideoForPlatform(r,"instagram",t);if(s.status){const a=`https://www.instagram.com/create/?video_url=${encodeURIComponent(s.data.convertedUrl)}`;window.open(a,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}}catch(s){console.error("Instagram conversion failed, using original video:",s);const a=`https://www.instagram.com/create/?video_url=${encodeURIComponent(r)}`;window.open(a,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}},$=async()=>{try{const s=await x.convertVideoForPlatform(r,"youtube",t);if(s.status){const a=`https://www.youtube.com/upload?video_url=${encodeURIComponent(s.data.convertedUrl)}`;window.open(a,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}}catch(s){console.error("YouTube conversion failed, using original video:",s);const a=`https://www.youtube.com/upload?video_url=${encodeURIComponent(r)}`;window.open(a,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}},T=async()=>{const s=`https://web.whatsapp.com/send?text=${encodeURIComponent(r)}`;window.open(s,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")},V=()=>{localStorage.removeItem("videoSetupData"),localStorage.removeItem("x-api-key"),window.location.href="/"};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[u&&e.jsxs(o,{variant:"outline",size:"sm",onClick:u,children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Kembali"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Video Anda Siap!"}),e.jsx("p",{className:"text-muted-foreground",children:"Video telah berhasil dibuat dengan kualitas AI terbaik. Download sekarang atau bagikan langsung ke platform favorit Anda."})]})]})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs(h,{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("span",{children:"Preview Video"})]})}),e.jsx(c,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full h-96 bg-black rounded-lg overflow-hidden",children:e.jsx("video",{src:r,controls:!0,className:"w-full h-full object-cover",poster:"",children:"Your browser does not support the video tag."})}),e.jsxs("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:[e.jsx(o,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx(o,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",children:e.jsx(E,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"0 detik"}),e.jsx("span",{children:"Kualitas"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs(h,{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Video"})]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Pilih Kualitas"}),e.jsx("div",{className:"space-y-3",children:w.map(s=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${d===s.id?"border-purple-500 bg-purple-50 dark:bg-purple-950/20":"border-border hover:border-purple-300"}`,onClick:()=>y(s.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.icon,e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:s.label}),s.pro&&e.jsx(U,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 text-xs",children:"PRO"})]})})]}),d===s.id&&e.jsx("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-4 h-4 text-white"})})]})},s.id))})]}),e.jsxs(o,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",size:"lg",onClick:C,children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Download Video ",N()?.label]})]})]}),e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs(h,{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Bagikan ke Platform"})]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:v.map(s=>e.jsx("div",{className:"p-4 border rounded-lg hover:border-purple-300 transition-all cursor-pointer",onClick:()=>b(s.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.color}`,children:s.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsx(o,{variant:"outline",size:"sm",onClick:a=>{a.stopPropagation(),b(s.id)},children:e.jsx(p,{className:"w-4 h-4"})})]})},s.id))})})]})]}),e.jsx("div",{className:"mt-12",children:e.jsx(n,{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-950/20 dark:to-blue-950/20 border-purple-200 dark:border-purple-800",children:e.jsxs(c,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Extend Video Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Ulang semua langkah dari awal untuk membuat video lainnya sesuai kebutuhan."}),e.jsxs(o,{onClick:V,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold px-8 py-3 text-lg",size:"lg",children:["Buat Video Baru",e.jsx(B,{className:"w-5 h-5 ml-2"})]})]})})})]})]})}export{ie as VideoDownload};
