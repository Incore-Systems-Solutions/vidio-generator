import{c as k,j as e,B as V}from"./createLucideIcon.BWUjMJ0t.js";import{r as l}from"./index.RH_Wq4ov.js";import{p as U}from"./api.Byl29pak.js";import{S as D}from"./sparkles.DUVF_Rgm.js";import{L}from"./loader-circle.whxegmsq.js";import{V as S}from"./video.CTT0PdyH.js";import{P as I}from"./play.CmT1PXqT.js";import{C}from"./calendar.nuBBCmxz.js";import{X as R}from"./x.DC3K5u7y.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],H=k("pause",F);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],q=k("volume-2",O);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],X=k("volume-x",G),w={ID:{badge:"Video yang Dibuat AI",title:"Galeri Video",description:"Koleksi video AI terbaik yang dibuat oleh pengguna kami.",loadingTitle:"Memuat video...",loadingDesc:"Mengambil galeri AI terbaru",errorMessage:"Gagal memuat video. Silakan coba lagi nanti.",retryButton:"Coba Lagi",loadMoreButton:"Muat Lebih Banyak Video",loadingButton:"Memuat...",endMessage:"Semua video telah ditampilkan",modalTitle:"Pemutar Video",modalCreatedOn:"Dibuat pada",videoNotAvailable:"Video Tidak Tersedia",videoUnavailableDesc:"Video ini saat ini tidak tersedia",createdBy:"Dibuat oleh",videoDescription:"Deskripsi"},EN:{badge:"AI Generated Videos",title:"Video Gallery",description:"The best AI video collection created by our users.",loadingTitle:"Loading videos...",loadingDesc:"Fetching latest AI gallery",errorMessage:"Failed to load videos. Please try again later.",retryButton:"Try Again",loadMoreButton:"Load More Videos",loadingButton:"Loading...",endMessage:"All videos have been displayed",modalTitle:"Video Player",modalCreatedOn:"Created on",videoNotAvailable:"Video Not Available",videoUnavailableDesc:"This video is currently unavailable",createdBy:"Created by",videoDescription:"Description"},ZH:{badge:"AI 生成的视频",title:"视频库",description:"由我们用户创建的最佳 AI 视频集合。",loadingTitle:"加载视频中...",loadingDesc:"获取最新 AI 画廊",errorMessage:"加载视频失败。请稍后再试。",retryButton:"重试",loadMoreButton:"加载更多视频",loadingButton:"加载中...",endMessage:"所有视频已显示",modalTitle:"视频播放器",modalCreatedOn:"创建于",videoNotAvailable:"视频不可用",videoUnavailableDesc:"此视频当前不可用",createdBy:"创建者",videoDescription:"描述"},AR:{badge:"مقاطع فيديو منشأة بالذكاء الاصطناعي",title:"معرض الفيديو",description:"أفضل مجموعة فيديو AI تم إنشاؤها بواسطة مستخدمينا.",loadingTitle:"جاري تحميل مقاطع الفيديو...",loadingDesc:"جلب أحدث معرض AI",errorMessage:"فشل تحميل مقاطع الفيديو. يرجى المحاولة مرة أخرى لاحقًا.",retryButton:"حاول مرة أخرى",loadMoreButton:"تحميل المزيد من مقاطع الفيديو",loadingButton:"جاري التحميل...",endMessage:"تم عرض جميع مقاطع الفيديو",modalTitle:"مشغل الفيديو",modalCreatedOn:"تم الإنشاء في",videoNotAvailable:"الفيديو غير متوفر",videoUnavailableDesc:"هذا الفيديو غير متوفر حاليًا",createdBy:"تم إنشاؤه بواسطة",videoDescription:"الوصف"}};function le(){const[i,g]=l.useState(null),[h,x]=l.useState([]),[d,j]=l.useState(!0),[b,v]=l.useState(!1),[m,f]=l.useState(null),[c,p]=l.useState(1),[o,y]=l.useState(1),[u,N]=l.useState("ID"),[B,_]=l.useState({});l.useEffect(()=>{const r=localStorage.getItem("preferredLanguage");r&&w[r]&&N(r);const t=()=>{const a=localStorage.getItem("preferredLanguage");a&&w[a]&&N(a)},s=setInterval(()=>{const a=localStorage.getItem("preferredLanguage");a&&a!==u&&N(a)},500);return window.addEventListener("languageChanged",t),()=>{window.removeEventListener("languageChanged",t),clearInterval(s)}},[u]),l.useEffect(()=>{(async()=>{try{c===1?j(!0):v(!0),f(null);const t=await U.getPublicVideos(c,12);x(c===1?t.data:a=>[...a,...t.data]),y(t.last_page);const s={};t.data.forEach(a=>{a.user&&a.user.email&&(s[a.user_id]=a.user.email)}),_(a=>({...a,...s}))}catch(t){console.error("Error fetching videos:",t),f("Failed to load videos. Please try again later.")}finally{j(!1),v(!1)}})()},[c]);const T=r=>{g(r)},P=()=>{c<o&&!d&&!b&&p(r=>r+1)},E=()=>{p(1),x([]),f(null)},M=r=>{const t=new Date(r),s=u==="ID"?"id-ID":u==="ZH"?"zh-CN":u==="AR"?"ar-SA":"en-US";return t.toLocaleDateString(s,{day:"numeric",month:"long",year:"numeric"})},$=r=>{if(!r)return"";const[t,s]=r.split("@");if(t.length<=4)return`${t[0]}${"*".repeat(t.length-1)}@${s}`;const a=Math.floor(t.length/3),A=Math.floor(t.length*2/3);return`${t.substring(0,a)+"*".repeat(A-a)+t.substring(A)}@${s}`},z=r=>{if(r.prompt&&typeof r.prompt=="string"){const t=r.prompt,s=t.match(/Deskripsi[:\s]*(.*?)(?=\n\n|\nSub Scene|$)/s);return s&&s[1]?s[1].trim():t.length>200?t.substring(0,200)+"...":t}return"No description available"},n=w[u];return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"text-center mb-16 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-purple-500/10 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-full px-4 py-2 mb-6",children:[e.jsx(D,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm font-medium text-purple-300",children:n.badge})]}),e.jsx("h2",{className:"text-5xl md:text-6xl font-bold mb-6 tracking-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-blue-400 to-purple-400 bg-clip-text text-transparent bg-[length:200%_auto] animate-gradient",children:n.title})}),e.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg leading-relaxed",children:n.description})]})]}),d&&e.jsx("div",{className:"flex justify-center items-center py-24",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full blur-xl opacity-20 animate-pulse"}),e.jsxs("div",{className:"relative flex flex-col items-center space-y-4 bg-slate-900/50 border border-purple-500/20 rounded-2xl px-12 py-8 backdrop-blur-sm",children:[e.jsx(L,{className:"w-8 h-8 animate-spin text-purple-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:n.loadingTitle}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:n.loadingDesc})]})]})]})}),m&&e.jsx("div",{className:"text-center py-24",children:e.jsxs("div",{className:"max-w-md mx-auto bg-gradient-to-br from-red-500/5 to-orange-500/5 border border-red-500/20 rounded-2xl p-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-full flex items-center justify-center",children:e.jsx(S,{className:"w-8 h-8 text-red-400"})}),e.jsx("p",{className:"text-gray-300 mb-6 text-sm",children:n.errorMessage}),e.jsx(V,{onClick:E,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white border-0 shadow-lg shadow-purple-500/20",children:n.retryButton})]})}),!d&&!m&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:h.map((r,t)=>{const s=r.final_url_merge_video;return s?e.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>T(r),children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-500 via-blue-500 to-purple-500 rounded-2xl opacity-0 group-hover:opacity-30 blur-xl transition-all duration-500 group-hover:duration-200"}),e.jsx("div",{className:"relative overflow-hidden rounded-2xl border border-slate-800/50 bg-gradient-to-br from-slate-900/90 to-slate-950/90 backdrop-blur-sm aspect-video transition-all duration-300 group-hover:border-purple-500/50 group-hover:shadow-2xl group-hover:shadow-purple-500/20 group-hover:scale-[1.02]",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("video",{className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110",muted:!0,loop:!0,playsInline:!0,preload:"metadata",onMouseEnter:a=>{a.currentTarget.play()},onMouseLeave:a=>{a.currentTarget.pause(),a.currentTarget.currentTime=0},children:e.jsx("source",{src:s,type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950/95 via-slate-950/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 transform scale-75 group-hover:scale-100",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 rounded-full p-6 shadow-2xl shadow-purple-500/50",children:e.jsx(I,{className:"w-8 h-8 text-white fill-current"})})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-2 bg-slate-900/80 backdrop-blur-sm rounded-full px-3 py-1.5 border border-white/10 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:[e.jsx(C,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"text-xs text-gray-300 font-medium",children:M(r.created_at)})]})]})})]},`${r.id}-${t}`):null})}),!d&&!m&&c<o&&e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full blur-xl opacity-20"}),e.jsx(V,{onClick:P,size:"lg",disabled:b,className:"relative bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white border-0 shadow-xl shadow-purple-500/30 px-8 py-6 text-base font-medium transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:b?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-5 h-5 mr-2 animate-spin"}),n.loadingButton]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),n.loadMoreButton]})})]})}),!d&&!m&&c>=o&&h.length>0&&e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-full px-6 py-3",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-gray-400 text-sm font-medium",children:n.endMessage})]})}),i&&e.jsx(Z,{video:i,onClose:()=>g(null),formatDate:M,translations:n,userEmails:B,censorEmail:$,getVideoDescription:z}),e.jsx("style",{children:`
        @keyframes gradient {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        .animate-gradient {
          animation: gradient 6s ease infinite;
        }
      `})]})}function Z({video:i,onClose:g,formatDate:h,translations:x,userEmails:d,censorEmail:j,getVideoDescription:b}){const v=i.final_url_merge_video,[m,f]=l.useState(!0),[c,p]=l.useState(!1),o=l.useRef(null),y=()=>{o.current&&(o.current.muted=!o.current.muted,f(o.current.muted))},u=()=>{o.current&&(o.current.paused?(o.current.play(),p(!0)):(o.current.pause(),p(!1)))};return e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-950/95 backdrop-blur-xl",onClick:g}),e.jsxs("div",{className:"relative w-full max-w-4xl mx-auto",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 via-blue-500 to-purple-500 rounded-2xl opacity-30 blur-2xl"}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden shadow-2xl shadow-purple-500/20",children:[e.jsx("button",{onClick:g,className:"absolute top-4 right-4 z-20 text-white hover:text-red-400 hover:bg-red-500/20 border border-red-500/30 rounded-full p-2 transition-all duration-300 hover:scale-110 bg-black/50 backdrop-blur-sm",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("div",{className:"relative aspect-video bg-black",children:v?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-purple-500/20 blur-2xl"}),e.jsxs("video",{ref:o,controls:!1,autoPlay:!0,loop:!0,muted:m,playsInline:!0,className:"relative w-full h-full object-cover",onPlay:()=>p(!0),onPause:()=>p(!1),children:[e.jsx("source",{src:v,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),e.jsxs("div",{className:"absolute top-4 left-4 flex items-center space-x-2 pointer-events-auto",children:[e.jsx("button",{onClick:u,className:"bg-black/50 backdrop-blur-sm rounded-full p-2 border border-white/20 hover:bg-white/10 transition-all duration-300 hover:scale-110",children:c?e.jsx(H,{className:"w-4 h-4 text-white"}):e.jsx(I,{className:"w-4 h-4 text-white"})}),e.jsx("button",{onClick:y,className:"bg-black/50 backdrop-blur-sm rounded-full p-2 border border-white/20 hover:bg-white/10 transition-all duration-300 hover:scale-110",children:m?e.jsx(X,{className:"w-4 h-4 text-white"}):e.jsx(q,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3 max-w-md",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:d[i.user_id]?d[i.user_id].charAt(0).toUpperCase():"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-semibold text-sm truncate",children:d[i.user_id]?j(d[i.user_id]):"Loading..."}),e.jsx("p",{className:"text-gray-300 text-xs",children:h(i.created_at)})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-white text-sm leading-relaxed line-clamp-3",children:b(i)})})]}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-full px-3 py-1.5 border border-white/20",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"text-white text-xs font-medium",children:h(i.created_at)})]})})})]})]}):e.jsx("div",{className:"aspect-video bg-gradient-to-br from-slate-900 to-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"w-24 h-24 mx-auto mb-6 text-purple-500/30"}),e.jsx("div",{className:"text-2xl font-bold text-gray-300 mb-4",children:x.videoNotAvailable}),e.jsx("p",{className:"text-gray-500",children:x.videoUnavailableDesc})]})})})]})]}),e.jsx("style",{children:`
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})}export{le as VideoGallery};
