---
import { NavbarWithModal } from "@/components/NavbarWithModal"
import { SetupPage } from "@/components/SetupPage"
import { VideoGallery } from "@/components/VideoGallery"
import "../styles/global.css"
---

<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Video Generator - Create Amazing Videos</title>
		<meta name="description" content="Create professional videos with our easy-to-use video generator. Follow simple steps to generate, customize, and download your videos." />
	</head>

	<body class="min-h-screen bg-background antialiased">
		<!-- Navigation with Integrated Stepper -->
		<NavbarWithModal client:load currentStep={1} totalSteps={4} />

		<!-- Main Content -->
		<main class="flex-1">
			<div class="container mx-auto px-8 py-12">
				<SetupPage client:load />
			</div>

			<!-- Video Gallery Section -->
			<section class="bg-muted/30 py-16">
				<div class="container mx-auto px-8">
					<VideoGallery client:load />
				</div>
			</section>
		</main>

		<!-- Footer -->
		<footer class="border-t py-12 mt-24">
			<div class="container mx-auto px-4">
				<div class="text-center text-muted-foreground">
					<p>&copy; 2024 Video Generator. All rights reserved.</p>
				</div>
			</div>
		</footer>

		<script>
			function updateStep(step: number) {
				// This is just for demo purposes
				// In a real app, you would update the component state
				console.log(`Moving to step ${step}`);
				// You could trigger a page reload with the new step or use a state management solution
				window.location.href = `?step=${step}`;
			}
		</script>
	</body>
</html>
